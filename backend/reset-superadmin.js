#!/usr/bin/env node\n\n/**\n * Script de recuperaciÃ³n de contraseÃ±a para Superadmin\n * Uso: node reset-superadmin.js <nueva-contraseÃ±a>\n * \n * Ejemplo: node reset-superadmin.js MiNuevaPassword123!\n */\n\nconst https = require('https');\n\nconst BACKEND_URL = 'rrhhmod-backend.rchavezza.workers.dev';\nconst EMERGENCY_TOKEN = 'recuperar-2024-superadmin';\nconst SUPERADMIN_EMAIL = 'super@erprick.com';\n\nasync function resetPassword(newPassword) {\n  const data = JSON.stringify({\n    email: SUPERADMIN_EMAIL,\n    new_password: newPassword,\n    emergency_token: EMERGENCY_TOKEN\n  });\n\n  const options = {\n    hostname: BACKEND_URL,\n    port: 443,\n    path: '/api/v1/auth/admin-reset',\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Content-Length': data.length\n    }\n  };\n\n  const req = https.request(options, (res) => {\n    let body = '';\n    res.on('data', (chunk) => body += chunk);\n    res.on('end', () => {\n      try {\n        const response = JSON.parse(body);\n        if (response.success) {\n          console.log('âœ… Â¡ContraseÃ±a restablecida exitosamente!');\n          console.log('ğŸ“§ Email:', SUPERADMIN_EMAIL);\n          console.log('ğŸ”‘ Nueva contraseÃ±a:', newPassword);\n        } else {\n          console.log('âŒ Error:', response.error);\n        }\n      } catch (e) {\n        console.log('âŒ Error parseando respuesta:', body);\n      }\n    });\n  });\n\n  req.on('error', (e) => {\n    console.log('âŒ Error de conexiÃ³n:', e.message);\n  });\n\n  req.write(data);\n  req.end();\n}\n\n// Obtener nueva contraseÃ±a del argumento\nconst newPassword = process.argv[2];\n\nif (!newPassword) {\n  console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');\n  console.log('â•‘   RecuperaciÃ³n de ContraseÃ±a - Superadmin ERPRick        â•‘');\n  console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');\n  console.log('');\n  console.log('Uso: node reset-superadmin.js <nueva-contraseÃ±a>');\n  console.log('');\n  console.log('Ejemplo:');\n  console.log('  node reset-superadmin.js MiPasswordSegura123!');\n  console.log('');\n  console.log('Este script restablecerÃ¡ la contraseÃ±a del superadmin:');\n  console.log('  ğŸ“§ super@erprick.com');\n  process.exit(1);\n}\n\nresetPassword(newPassword);\n